<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Inscription Paljex</title>
<style>
body { font-family: Arial,sans-serif; background: linear-gradient(135deg, #64B5F6, #2196F3); display:flex; justify-content:center; align-items:center; height:100vh; margin:0; }
.container { background:white; padding:30px; border-radius:15px; box-shadow:0 8px 20px rgba(0,0,0,.25); text-align:center; max-width:400px; width:90%; animation: fadeIn 1s ease-in-out; }
h1 { color:#2196F3; margin-bottom:20px; font-size:26px; }
input { width:90%; padding:12px; margin:10px 0; font-size:16px; border:1px solid #ccc; border-radius:8px; }
button { width:95%; padding:12px; font-size:16px; border:none; border-radius:8px; cursor:pointer; background:#4CAF50; color:white; transition:.3s; margin-top:10px; }
button:hover { background:#43A047; }
.switch-link { margin-top:15px; color:#555; cursor:pointer; display:block; }
.switch-link:hover { text-decoration:underline; }
#error, #signError { color:red; margin-top:10px; font-weight:bold; }
@keyframes fadeIn { from { opacity:0; transform:translateY(-20px);} to { opacity:1; transform:translateY(0);} }
</style>
</head>
<body>
<div class="container">
    <h1>Inscription</h1>
    <input type="text" id="signUsername" placeholder="Pseudo">
    <input type="password" id="signPassword" placeholder="Mot de passe">
    <button id="signBtn">S'inscrire</button>
    <span class="switch-link" onclick="window.location.href='login.html'">Déjà un compte ? Connectez-vous</span>
    <p id="signError"></p>
</div>

<script>
// Vérifie si utilisateur déjà connecté
if(localStorage.getItem('currentUser')){
    window.location.href='index.html';
}

// Inscription
document.getElementById('signBtn').addEventListener('click', ()=>{
    const user = document.getElementById('signUsername').value.trim();
    const pass = document.getElementById('signPassword').value.trim();
    const errorEl = document.getElementById('signError');
    errorEl.textContent='';

    if(!user || !pass){
        errorEl.textContent = "Veuillez remplir tous les champs.";
        return;
    }

    // Récupère les utilisateurs existants
    const users = JSON.parse(localStorage.getItem('users')) || {};

    if(users[user]){
        errorEl.textContent = "Ce pseudo existe déjà.";
        return;
    }

    // Création du nouvel utilisateur
    users[user] = { password: pass, score: 0, history: [] };
    localStorage.setItem('users', JSON.stringify(users));
    localStorage.setItem('currentUser', user);

    // Redirection vers l'index
    window.location.href='index.html';
});
</script>
</body>
</html>